\section{29/04/2024}


\begin{corollary}
    Let $a,b,c\in \Z$ be such that $a^2+b^2=c^2$. Then 
    \[
    (a,b,c)=\lambda(r^2-s^2,-2rs, r^2+s^2)
    \]
    for some $r,s\in\Z$ and some $\lambda\in\Z$.
\end{corollary}

\begin{proof}
    We work with the extension $\Q(i)/\Q$. Note that 
    $\Gal(\Q(i),\Q)=\{\id,\gamma\}$ is cyclic, where 
    $\gamma\colon\Q(i)\to\Q(i)$, $z\mapsto\overline{z}$, is the complex conjugation. 
    We may assume that $c\ne 0$, otherwise $a=b=0$ and the result is trivial.  
    Write $(a/c)^2+(b/c)^2=1$ and let $\alpha=(a/c)+(b/c)i\in\Q(i)$. Then
    $\norm_{\Q(i)/\Q}(\alpha)=1$. 
    By Hilbert's theorem, 
    there exists $\beta\in\Q(i)\setminus\{0\}$ such that 
    \[
    \alpha=a+bi=\frac{\gamma(\beta)}{\beta}.
    \]
    Note that if $m\in\Z\setminus\{0\}$, then 
    $\frac{\gamma(m\beta)}{m\beta}=\frac{\gamma(\beta)}{\beta}$. 
    There exists $m\in\Z\setminus\{0\}$ such that 
    $m\beta\in\Z[i]$, say $m\beta=r+is$ with $r,s\in\Z$. Then
    \[
    \alpha=\frac{\gamma(\beta)}{\beta}=\frac{\gamma(m\beta)}{m\beta}=
    \frac{r-is}{r+is}=\frac{r^2-s^2-2rsi}{r^2+s^2}.
    \]
    From this the claim follows. 
\end{proof}

\begin{exercise}
% https://abel.math.harvard.edu/~elkies/Misc/hilbert.pdf
Let $A,B\in\Z$ be such that $A^2-4B$ is not a square. Prove that 
a solution $(x,y,z)\in\Z^3$ of $x^2 + Axy + By^2 = z^2$
is proportional to 
\[
(r^2-Bs^2,2rs+As^2,r^2+Ars+Bs^2).
\]
\end{exercise}

\subsection{Group cohomology}

Let $G$ be a group and $A$ be a \textbf{(left) $G$-module}. This means that $A$ is an abelian
group together with a map
\[
G\times A\to A,\quad
(g,a)\mapsto g\cdot a
\]
such that $1\cdot a=a$ for all $a\in A$, $(gh)\cdot a=g\cdot (h\cdot a)$ for 
all $g,h\in G$ and $a\in A$ and $g\cdot (a+b)=g\cdot a+g\cdot b$ for
all $g\in G$ and $a,b\in A$. 

\begin{example}
    The group $\Gal(\C/\R)$ acts on $\C$ and $\C^\times$. Moreover, 
    it acts trivially on $\R$ and $\R^\times$. 
\end{example}

More generally, if $E/K$ is a finite Galois extension, then 
the Galois group $\Gal(E/K)$ acts on $E$ and $E^\times$. 

\begin{definition}
    Let $G$ be a group and $M$ and $N$ be $G$-modules. A map 
    $f\colon M\to N$ is a \textbf{homomorphism} of $G$-modules
    if $f(\sigma\cdot m)=\sigma\cdot f(m)$ for all $m\in M$ and $\sigma\in G$.
\end{definition}

\begin{definition}
    Let $G$ be a group and $M$ be a $G$-module.
    The submodule of \textbf{$G$-invariants} is defined as
    \[
    M^G=\{m\in M:\sigma\cdot m=m\text{ for all $\sigma\in G$}\}.
    \]
\end{definition}

Note that $M^G$ is the largest submodule of the $G$-module 
$M$ where $G$ acts trivially. For example, if 
$G=\Gal(E/K)$, then $E^G=K$. 

\begin{proposition}
\label{pro:H0}
    Let $G$ be a group. If the sequence
of $G$-modules and $G$-module homomorphism
\[
\begin{tikzcd}
    0 & P & M & N & 0
    \arrow[from=1-1, to=1-2]
    \arrow["\alpha", from=1-2, to=1-3]
    \arrow["\beta", from=1-3, to=1-4]
    \arrow[from=1-4, to=1-5]
    \end{tikzcd}\]
is exact, then 
\[
\begin{tikzcd}
                        0 & P^G & M^G & N^G 
                        \arrow[from=1-1, to=1-2]
                        \arrow["\alpha^0", from=1-2, to=1-3]
                        \arrow["\beta^0", from=1-3, to=1-4]
        \end{tikzcd}
        \]
is exact, where $\alpha^0$ is the restriction $\alpha|_{P^G}$ of $\alpha$ to $P^G$ and
$\beta^0$ is the restriction $\beta|_{M^G}$ of $\beta$ to $M^G$. 
\end{proposition}

\begin{proof}
    Since $\alpha$ is injective, the restriction $\alpha^0$ is injective. 

    Note that 
    $\ker\beta^0=\ker\beta\cap M^G\subseteq\ker\beta$. 
    
    We claim 
    that $\alpha^0(P^G)=\alpha(P)\cap M^G$. If $m\in\alpha(P)\cap M^G$, then 
    $\alpha(p)=m$ for some $p\in P$ and $\sigma\cdot m=m$. Since
    \[
    \alpha(p)=m=\sigma\cdot m=\sigma\cdot\alpha(p)=\alpha(\sigma\cdot p),
    \]
    $\sigma\cdot p-p\in\ker\alpha=\{0\}$. Hence $\sigma\cdot p=p$ and
    $p\in P^G$. Conversely, if $m\in\alpha^0(P^G)$, then 
    $m=\alpha(p)$ for some $p\in P^G$. If $\sigma\in G$, then
    \[
    \sigma\cdot m=\sigma\cdot\alpha(p)=\alpha(\sigma\cdot p)=\alpha(p)=m.
    \]
    Hence $m\in M^G\cap\alpha(P)$.

    Now
    \[
    \alpha^0(P^G)=\alpha(P)\cap M^G=\ker\beta\cap M^G=\ker\beta^0.\qedhere  
    \]
\end{proof}

Note that in the previous proposition, we did not prove that
the map $\beta|_{M^G}$ is surjective. 

\begin{example}
    Let $G=\Gal(\C/\R)$. Consider the following exact sequence
    of $G$-modules:
    \[
    \begin{tikzcd}
    1 & \{-1,1\} & \C^\times & \C^\times & 1
    \arrow[from=1-1, to=1-2]
    \arrow[from=1-2, to=1-3]
    \arrow["\beta", from=1-3, to=1-4]
    \arrow[from=1-4, to=1-5]
    \end{tikzcd}    
    \]
    where $\beta(z)=z^2$. Note that $\beta$ is surjective. Take invariants 
    to obtain the sequence  
    \[
    \begin{tikzcd}
     0 & \{-1,1\} & \R^\times & \R^\times 
     \arrow[from=1-1, to=1-2]
     \arrow[from=1-2, to=1-3]
     \arrow["\beta^0", from=1-3, to=1-4]
     \end{tikzcd}
     \]
     where $\beta^0(x)=x^2$. Note that $\beta^0$ is not surjective! 
\end{example}

\begin{definition}
    Let $G$ be a group and $N$ be a $G$-module. 
    We define 
    \begin{align*}
        H^0(G,M)&=M^G,\\
        C^1(G,M)&=\{\phi\colon G\to M:\phi\text{ is a map}\},\\
        Z^1(G,M)&=\{\phi\in C^1(G,M):\phi(\sigma\tau)=\phi(\sigma)+\sigma\cdot\phi(\tau)\text{ for all $\sigma,\tau\in G$}\},
        \end{align*}    
\end{definition}

Note that $Z^1(G,M)$ is an abelian group with the operation
\[
(\phi+\phi_1)(\sigma)=\phi(\sigma)+\phi_1(\sigma).
\]
Moreover, if $\phi\in Z^1(G,M)$, then 
$\phi(1_G)=0_M$. To prove this fact, note that  
\[
\phi(1_G)=\phi(1_G1_G)=\phi(1_G)+1_G\cdot\phi(1_G)=\phi(1_G)+\phi(1_G)
\]
implies
that $\phi(1_G)=0_M$. 

\begin{example}
\label{exa:BinZ}
    Let $G$ be a group and $M$ be a $G$-module. Fix $m\in M$. Then
    the map $\phi\colon G\to M$, $\phi(\sigma)=\sigma\cdot m-m$, is an element 
    of $Z^1(G,M)$, because 
    \begin{align*}
    \phi(\sigma\tau)&=(\sigma\tau)\cdot m-m\\
    &=(\sigma\tau)\cdot m-\sigma\cdot m+\sigma\cdot m-m\\
    &=\sigma\cdot (\tau\cdot m-m)+\sigma\cdot m-m\\
    &=\sigma\cdot \phi(\tau)+\phi(\sigma)   
    \end{align*}
    for all $\sigma,\tau\in G$.
\end{example}

\begin{definition}
    Let $G$ be a group and $M$ be a $G$-module. The set
    $B^1(G,M)$ of \textbf{coboundaries} is the set 
    of elements $\phi\in C^1(G,M)$ such that there is a fixed 
    $m\in M$ such that
    $\phi(\sigma)=\sigma\cdot m=m$ for all $\sigma\in G$.
\end{definition}

We proved in Example \ref{exa:BinZ} that  
$B^1(G,M)\subseteq Z^1(G,M)$. A direct calculation shows that, in fact, 
$B^1(G,M)$ is a subgroup of $Z^1(G,M)$. 

\begin{definition}
    Let $G$ be a group and $M$ be a $G$-module. The 
    \textbf{first cohomology group} of $G$ with coefficients
    in $M$ is defined as the quotient
    \[
    H^1(G,M)=Z^1(G,M)/B^1(G,M).
    \]
\end{definition}

\begin{example}
    If $G$ acts trivially on $M$, then 
    \[
    H^0(G,M)=M^G=M,
    \quad 
    B^1(G,M)=\{0\},
    \quad 
    Z^1(G,M)=\Hom(G,M).
    \]
    Hence 
    $H^1(G,M)\simeq\Hom(G,M)$.
\end{example}

\begin{example}
    Let $G=\Gal(\C/\R)=\{\id,\gamma\}$, where $\gamma\colon\C\to\C$, $z\mapsto\overline{z}$, is the complex conjugation. Then
    \[
    H^0(G,\R^\times)=\left(\R^\times\right)^G=\R^\times.
    \]
    Since $G$ acts trivially on $\R^\times$, 
    \[
    H^1(G,\R^\times)=\Hom(G,\R^\times)\simeq\Hom(G,\{-1,1\})\simeq\Z/2.
    \]
\end{example}

The following lemma will be useful. 

\begin{lemma}
\label{lem:H1_maps}
    Let $G$ be a group and 
    $\alpha\colon M\to N$ be a homomorphism of $G$-modules. 
    Then 
    \[
    \alpha^1\colon H^1(G,M)\to H^1(G,N),\quad 
    \phi+B^1(G,M)\mapsto \alpha\circ\phi+B^1(G,N),
    \]
    is a group homomorphism. 
\end{lemma}

\begin{proof}
    Let us prove that the map $\alpha^1$ is well-defined. If 
    $\phi-\phi'\in B^1(G,M)$, then 
    there exists a fixed 
    $m\in M$ such that 
    $(\phi-\phi')(\sigma)=\sigma\cdot m-m$ for all $\sigma\in G$. 
    Let $n=\alpha(m)\in N$. 
    For $\sigma\in G$, 
    \[
    \alpha((\phi-\phi')(\sigma))=\alpha(\sigma\cdot m-m)
    =\sigma\cdot \alpha(m)-\alpha(m)=\sigma\cdot n-n. 
    \]
    Thus $\alpha\circ\phi-\alpha\circ\phi'\in B^1(G,N)$. 

    We now prove that $\alpha^1$ is a group homomorphism. If 
    $\phi,\phi'\in Z^1(G,M)$, then 
    \begin{align*}
    \alpha^1(\phi+B^1(G,M)+\phi'+B^1(G,M))
    &=\alpha^1(\phi+\phi'+B^1(G,M))\\
    &=\alpha\circ(\phi+\phi')+B^1(G,N)\\
    &=\alpha\circ\phi+\alpha\circ\phi'+B^1(G,N)\\
    &=\alpha\circ\phi+B^1(G,N)+\alpha\circ\phi'+B^1(G,N)\\
    &=\alpha^1(\phi+B^1(G,M))+\alpha^1(\phi'+B^1(G,M)).\qedhere
    \end{align*}
\end{proof}

We will provide a detailed proof of the upcoming result. 
The theorem will be established by applying a \textbf{diagram chasing} technique, a widely used tool in homological algebra.
The proof is tedious and may seem intricate, but the method essentially 
involves ``chasing'' elements around a (commutative) diagram until we attain the desired result. 

\begin{theorem}
Let $G$ be a group and 
\[
\begin{tikzcd}
    0 & P & M & N & 0
    \arrow[from=1-1, to=1-2]
    \arrow["\alpha", from=1-2, to=1-3]
    \arrow["\beta", from=1-3, to=1-4]
    \arrow[from=1-4, to=1-5]
    \end{tikzcd}
\] 
be an exact sequence of $G$-modules and $G$-module homomorphism. 
Then there exists a \textbf{connection homomorphism} $\delta$ such that the sequence 
\begin{equation}
\label{eq:long}
\begin{tikzcd}
 0\rar & H^0(G,P)\rar["\alpha^0"] & H^0(G,M) \rar["\beta^0"]
             \ar[draw=none]{d}[name=X, anchor=center]{}
    & H^0(G,N) \ar[rounded corners,
            to path={ -- ([xshift=2ex]\tikztostart.east)
                      |- (X.center) \tikztonodes
                      -| ([xshift=-2ex]\tikztotarget.west)
                      -- (\tikztotarget)}]{dll}[at end]{\delta} \\      
  &H^1(G,P) \rar["\alpha^1"] & H^1(G,M) \rar["\beta^1"] & H^1(G,N)
\end{tikzcd}
\end{equation}
of abelian groups
and group homomorphisms is exact. 
\end{theorem}

\begin{proof}
    By Proposition \ref{pro:H0}, the 
    sequence is exact at $H^0(G,P)=P^G$, 
    $H^0(G,M)=M^G$ and 
    $H^0(G,N)=N^G$. Note that, in particular, 
    $\alpha\colon P\to\alpha(P)$ is a bijective group homomorphism. 


    Let us construct the connecting
    homomorphism $\delta\colon H^0(G,N)\to H^1(G,P)$. For 
    $n\in N^G$, let $m\in M$ be such that 
    $\beta(m)=n$. We define $\delta(n)=\phi+B^1(G,P)$, where 
    \[
    \phi(\sigma)=\alpha^{-1}(\sigma\cdot m-m).
    \]
    Note that $\sigma\cdot m-m\in\im\alpha=\ker\beta$, as 
    \[
    \beta(\sigma\cdot m-m)=\sigma\cdot \beta(m)-\beta(m)=\sigma\cdot n-n=0.
    \]

    Let us prove that the map $\delta$ is well-defined: if $m,m'\in M$ are such that
    $\beta(m)=\beta(m')=n$, then  $m-m'\in\ker\beta=\alpha(P)$. 
    For $\sigma\in G$, write $\phi'(\sigma)=\sigma\cdot m'-m'$. 
    Since  
    $m-m'=\alpha(p)$ for some $p\in P$ and  
    $\alpha^{-1}$ is a homomorphism of $G$-modules, 
    \begin{align*}
    \phi(\sigma)-\phi'(\sigma)&=\alpha^{-1}(\sigma\cdot m-m)
    -\alpha^{-1}(\sigma\cdot m'-m')\\
    &=\alpha^{-1}(\sigma\cdot (m-m'))-\alpha^{-1}(m-m')\\
    &=\alpha^{-1}(\sigma\cdot\alpha(p)-\alpha(p))\\
    &=\sigma\cdot p-p.
    \end{align*}
    Thus $\phi-\phi'\in B^1(G,P)$. 

    Note that $\phi\in Z^1(G,P)$, because
    \begin{align*}
    \phi(\sigma\tau)&=\alpha^{-1}((\sigma\tau)\cdot m-m)\\
    &=\alpha^{-1}((\sigma\tau)\cdot m-\sigma\cdot m+\sigma\cdot m-m)\\
    &=\alpha^{-1}(\sigma\cdot (\tau\cdot m-m))+\alpha^{-1}(\sigma\cdot m-m)\\
    &=\sigma\cdot\phi(\tau)+\phi(\sigma)
    \end{align*}
    holds for all $\sigma,\tau\in G$. 
    
    We now prove that the sequence \eqref{eq:long}
    is exact at $H^0(G,N)=N^G$. We need to prove that $\ker\delta=\im\beta^0$. To prove $\supseteq$ note that if $m\in M^G$ is such that 
    $\delta(\beta(m))=\phi+B^1(G,P)$, then 
    \[
    \phi(\sigma)=\alpha^{-1}(\sigma\cdot m-m)=0.
    \]
    Conversely, if $n\in\ker\delta$, then there exists $m\in M$ such that $\beta(m)=n$ and
    $\delta(\beta(m))=\phi+B^1(G,P)$, where $\phi\in B^1(G,P)$ and 
    $\phi(\sigma)=\alpha^{-1}(\sigma\cdot m-m)$ for all $\sigma\in G$. Since $\phi\in B^1(G,P)$, there
    exists $p\in P$ such that $\phi(\sigma)=\sigma\cdot p-p$ for all $\sigma\in G$. Note that 
    \[
    \beta(m-\alpha(p))=\beta(m)-\beta(\alpha(p))=\beta(m)=n.
    \]
    Moreover, $m-\alpha(p)\in M^G$, as $\sigma\cdot (m-\alpha(p))=m-\alpha(p)$. Hence $n\in\im\beta^0$. 

    We now prove that \eqref{eq:long} is exact at $H^1(G,P)$, that 
    is $\im\delta=\ker\alpha^1$. To prove
    $\subseteq$ note that 
    for $n\in N^G$, $\delta(n)=\phi+B^1(G,P)$, where 
    $\phi(\sigma)=\alpha^{-1}(\sigma\cdot m-m)$ for all $\sigma\in G$
    and some $m\in M$ such that $\beta(m)=n$. In particular, 
    $\alpha\circ\phi\in B^1(G,M)$. 
    Then
    \[
    \alpha^1(\phi+B^1(G,P))=\alpha\circ\phi+B^1(G,M)=B^1(G,M).
    \]
    To prove $\supseteq$, let $\phi+B^1(G,P)\in\ker\alpha^1$. Then
    $\alpha\circ\phi\in B^1(G,M)$, that is $\alpha(\phi(\sigma))=\sigma\cdot m-m$ for 
    all $\sigma\in G$ and some $m\in M$. Note that 
    \[
    \delta(\beta(m))=\psi+B^1(G,P),
    \]
    where $\psi(\sigma)=\alpha^{-1}(\sigma\cdot m-m)$. This implies that 
    $\alpha(\psi(\sigma))=\alpha(\phi(\sigma))$ for all $\sigma\in G$. Since 
    $\alpha$ is injective, $\psi=\phi$. Therefore 
    $\phi+B^1(G,P)$ belongs to the image of $\delta$. 

    Finally, we prove that the sequence \eqref{eq:long} is exact
    at $H^1(G,M)$, that is $\im\alpha^1=\ker\beta^1$. To prove $\subseteq$  
    note that 
    \[
    \beta^1(\alpha^1(\phi+B^1(G,P)))=\beta^1(\alpha\circ\phi+B^1(G,M))
    =(\beta\circ\alpha)\circ\phi+B^1(G,N)=B^1(G,N).
    \]
    Conversely, let $\phi+B^1(G,M)\in\ker\beta_1$. Then $\beta\circ\phi\in B^1(G,N)$. Thus
    there exists $n\in N$ such that $\beta(\phi(\sigma))=\sigma\cdot n-n$ 
    for all $\sigma\in G$. Since $\beta$ is surjective, 
    $n=\beta(m)$ for some $m\in M$. Hence 
    \[
    \beta(\phi(\sigma))=\sigma\cdot n-n=\sigma\cdot \beta(m)-\beta(m)
    =\beta(\sigma\cdot m-m).
    \]
    For each $\sigma\in G$, 
    $\phi(\sigma)-(\sigma\cdot m-m)\in\ker\beta=\im\alpha$. 
    and therefore  $\phi(\sigma)-(\sigma\cdot m-m)=\alpha(\rho_\sigma)$. 
    This defines a map $\rho\colon G\to P$, $\sigma\mapsto\rho_\sigma$.
    We claim that $\rho\in Z^1(G,P)$. If $\sigma,\tau\in G$, then
    \begin{align*}    
    \alpha(\rho_{\sigma\tau})&=\phi(\sigma\tau)-( (\sigma\tau)\cdot m-m)\\
    &=\phi(\sigma)+\sigma\cdot\phi(\tau)-(\sigma\cdot (\tau\cdot m-m)+\sigma\cdot m-m)\\
    &=\alpha(\rho_\sigma)+\sigma\cdot\alpha(\rho_\tau).
    \end{align*}
    Since $\alpha$ is injective, it follows that $\rho\in Z^1(G,P)$.
    Now
    \[
    \alpha_1(\rho+B^1(G,P))=\alpha\circ\rho+B^1(G,M)=\phi+B^1(G,M).\qedhere
    \]
\end{proof}

\begin{theorem}
    Let $G$ be a finite group and $M$ be a $G$-module. 
    Then 
    \[
    |G|H^1(G,M)=\{0\}.
    \]
\end{theorem}

\begin{proof}
    Let $n=|G|$. It is enough to prove that 
    if $\phi\in Z^1(G,M)$, then $n\phi\in B^1(G,M)$. Let $\phi\in Z^1(G,M)$ and 
    $\sigma\in G$. Then 
    \[
    \phi(\sigma\tau)=\phi(\sigma)+\sigma\cdot\phi(\tau)
    \]
    for all $\tau\in G$. Summing over all possible $\tau\in G$, we obtain that 
    \begin{equation}
        \label{eq:|G|H1(G,M)=0}    
        \sum_{\tau\in G}\phi(\tau)=\sum_{\tau\in G}\phi(\sigma\tau)
        =\sum_{\tau\in G}\sigma\cdot\phi(\tau)+\sum_{\tau\in G}\phi(\sigma)=n\phi(\sigma).
    \end{equation}
    Let $m=-\sum_{\tau\in G}\phi(\tau)\in M$. Then 
    \eqref{eq:|G|H1(G,M)=0} can be rewritten as 
    \[
    -m=\sum_{\tau\in G}\phi(\tau)=\sigma\cdot \sum_{\tau\in G}\phi(\tau)+n\phi(\sigma)
    =-\sigma\cdot m+n\phi(\sigma).
    \]
    Thus $n\phi(\sigma)=\sigma\cdot m-m$ and hence $n\phi\in B^1(G,M)$.  
\end{proof}

\begin{exercise}
    Let $G$ be a finite group and 
    $M$ be a finite $G$-module of size coprime to $|G|$. Prove that 
    $H^1(G,M)=\{0\}$. 
\end{exercise}

\begin{exercise}
    Let $G$ be a finite group and 
    $M$ be a finitely generated $G$-module. Prove that
    $H^1(G,M)$ is finite.
\end{exercise}

%\begin{proof}
%    
%    By the previous theorem, $H^1(G,M)$ is a
%\end{proof}
%
% \begin{definition}
%     \index{Derivation}
%     Let $A$ be a $G$-module. 
%     A \textbf{derivation} of $A$ is a map $d\colon G\to A$ such that
%     $d(gh)=g\cdot d(h)+d(g)$ for all $g,h\in G$. 
% \end{definition}

% \index{Inner derivation}
% Let $A$ be a $G$-module and $a\in A$. The map 
% $d(g)=g\cdot a-a$ is a derivation of $A$. 
% Such derivations as known as \textbf{inner derivations}. 

% \begin{exercise}
%     Let $E/K$ be a finite Galois extension and $G=\Gal(E/K)$. 
%     Then the (multiplicative) group $E^\times$ is a $G$-module with
%     $\sigma\cdot x=\sigma(x)$. 
% \end{exercise}

% In the context of the previous exercise, 
% let $d\colon G\to E^\times$ be a derivation. For $\tau\in G$ let 
% $x_\tau=d(\tau)$. Then
% \[
% x_{\sigma\tau}=d(\sigma\tau)=(\sigma\cdot d(\tau))d(\sigma)=\sigma(x_\tau)x_\sigma.
% \]
% Is this true that $x_\sigma=\frac{\sigma(c)}{c}=(\sigma\cdot c)c^{-1}$ 
% for some $c\in E^\times$?

% \begin{proposition}
%     Let $E/K$ be a finite Galois extension and $G=\Gal(E/K)$. 
%     \begin{enumerate}
%         \item Let $\{x_\tau:\tau\in G\}\subseteq E^\times$ be such that 
%             $x_{\sigma\tau}=\sigma(x_\tau)x_\sigma$. Then there exists
%             $c\in E^\times$ such that $x_\sigma=\frac{\sigma(c)}{c}$ for all $\sigma\in G$. 
%         \item Let $\{x_\tau:\tau\in G\}\subseteq E$ be such that 
%             $x_{\sigma\tau}=\sigma(x_\tau)+x_\sigma$. Then there exists
%             $c\in E$ such that $x_\sigma=\sigma(c)-c$ for all $\sigma\in G$.  
%     \end{enumerate}
% \end{proposition}

% \begin{proof}
%     We prove 1). By Dedekind's theorem, the homomorphism 
%     $\sum_{\tau\in G}x_{\tau}^{-1}\tau$ is non-zero. Thus there exists
%     $a\in E^{\times}$ such that $\sum_{\tau\in G}x_{\tau}^{-1}\tau(a)=c\in E^{\times}$. 
%     If $\sigma\in G$, 
%     then 
%     \[
%     \sigma(c)=\sum_{\tau\in G}\sigma(x_{\tau}^{-1})(\sigma\tau)(a)=
%     \sum_{\tau\in G}x_{\sigma\tau}^{-1}x_{\sigma}\sigma\tau(a)
%     =x_{\sigma}\sum_{\tau\in G}x_{\sigma\tau}^{-1}\sigma\tau(a)=x_{\sigma}c.
%     \]
    
%     We now prove 2). By Dedekind's theorem, $\sum_{\tau\in G}\tau\ne0$. Since
%     it is a non-zero 
%     linear form in $E$, it is surjective. In particular, there exists 
%     $a\in E$ such that $\sum_{\tau\in G}\tau(a)=1$. Let $c=-\sum_{\tau\in G}x_\tau\tau(a)$. 
%     If $\sigma\in G$, then 
%     \begin{align*}
%         \sigma(c) &= -\sum_{\tau\in G}\sigma(x_{\tau})\sigma\tau(a)\\
%         &=-\sum_{\tau\in G}(x_{\sigma\tau}-x_{\sigma})\sigma\tau(a)\\
%         &=-\sum_{\tau\in G}x_{\sigma\tau}\sigma\tau(a)+\sum_{\tau\in G}x_{\sigma}\sigma\tau(a)
%         =c+x_{\sigma}.
%     \end{align*}
%     Hence $x_{\sigma}=\sigma(c)-c$. 
% \end{proof}

% The following result is known as Hilbert's 90 theorem. 

% \begin{theorem}[Hilbert's theorem 90]
% \index{Hilbert's theorem 90}
%     Let $E/K$ be a cyclic extension of degree $n$ with Galois group $G=\Gal(E/K)=\langle\sigma\rangle$. 
%     \begin{enumerate}
%         \item Let $x\in E^{\times}$ be such that $\norm_{E/K}(x)=1$, 
%         There exists $b\in E^{\times}$ such that $x=\sigma(b)/b$. 
%         \item Let  $x\in E$ be such that $\trace_{E/K}(x)=0$. 
%         There exists $b\in E$ such that $x=\sigma(b)-b$. 
%     \end{enumerate}
% \end{theorem}

% \begin{proof}
%     Let us prove 1). Note that $G=\{\sigma^i:0\leq i<n\}$. For $i\in\{0,\dots,n-1\}$ let 
%     $x_{\sigma^i}=\prod_{k=0}^{i-1}\sigma^k(x)$. In particular, $x_{\sigma}=x$. We now
%     check that $\{x_{\sigma^i}\}$ satisfy the assumptions of the previous proposition:
%     \begin{align*}
%         \sigma^j(x_{\sigma^i}) &= \prod_{k=0}^{i-1}\sigma^{k+j}(x)
%         =\prod_{k=j}^{i+j-1}\sigma^k(x)\\
%         &=\prod_{k=0}^{i+j-1}\sigma^k(x)\left(\prod_{k=0}^{j-1}\sigma^k(x)\right)^{-1}
%         =\prod_{k=0}^{i+j-1}\sigma^k(x)x_{\sigma^j}^{-1}.
%     \end{align*}
%     If $i+j<n$, then 
%     \[
%     \sigma^j\sigma^i=\sigma^{i+j}
%     \implies
%     \sigma^j(x_{\sigma^i})=x_{\sigma^i\sigma^j}x_{\sigma^j}^{-1}
%     \implies
%     x_{\sigma^j\sigma^i}=\sigma^j(x_{\sigma^i})x_{\sigma^j}.
%     \]
%     If $i+j=n+r$ for some $r\in\{0,\dots,n-1\}$, then, since $i+j<2n$ and
%     $\sigma^i\sigma^j=\sigma^r$, 
%     \[
%     \sigma^j(x_{\sigma^i})=\prod_{k=0}^{n-1}\sigma^k(x)\prod_{k=n}^{n+r-1}\sigma^k(x)x_{\sigma^j}^{-1}
%     =\prod_{k=0}^{r-1}\sigma^k(x)x_{\sigma^j}^{-1}
%     =x_{\sigma^r}x_{\sigma^j}^{-1}=x_{\sigma^j\sigma^i}x_{\sigma^j}^{-1}
%     \]
%     and hence $x_{\sigma^j\sigma^i}=\sigma^j(x_{\sigma^i})x_{\sigma^j}$. By 
%     the previous lemma, there exists $c\in E^{\times}$ such that 
%     $x_{\sigma^i}=\frac{\sigma^i(c)}{c}$. In particular, $x=x_{\sigma}=\sigma(c)/c$. 
    
%     The second statement is similar and it is left as an exercise. 
% \end{proof}

% If $A$, $B$ and $C$ are groups (written multiplicatively) 
% and $f\colon A\to B$ and $g\colon B\to C$ are group homomorphism, 
% the sequence 
% \[\begin{tikzcd}
% 	A & B & C 
% 	\arrow["f", from=1-1, to=1-2]
% 	\arrow["g", from=1-2, to=1-3]
% \end{tikzcd}\]
% of groups and homomorphisms 
% is said to be \textbf{exact} if $f(A)=\ker g$. 
% For example, the sequence 
% \[\begin{tikzcd}
% 	1 & B & C 
% 	\arrow[from=1-1, to=1-2]
% 	\arrow["g", from=1-2, to=1-3]
% \end{tikzcd}\]
% is exact if and only if $g$ is injective, as the first map represents the trivial homomorphism. 
% Similarly, the sequence 
% \[\begin{tikzcd}
% 	A & B & 1
% 	\arrow["f", from=1-1, to=1-2]
% 	\arrow[from=1-2, to=1-3]
% \end{tikzcd}\]
% is exact if and only if $f$ is surjective. 

% \begin{corollary}
% Let $E/K$ be finite and cyclic with $\Gal(E/K)=\langle\sigma\rangle$. 
% \begin{enumerate}
%     \item The sequence 
%     \[\begin{tikzcd}
% 	1 & {K^{\times}} & {E^{\times}} & {E^{\times}} & {K^{\times}}
% 	\arrow[from=1-1, to=1-2]
% 	\arrow[hook, from=1-2, to=1-3]
% 	\arrow["\rho", from=1-3, to=1-4]
% 	\arrow["{\norm_{E/K}}", from=1-4, to=1-5]
%     \end{tikzcd}\]
%     is exact, where $\rho(z)=\sigma(z)/z$. 
%      \item The sequence 
%     \[\begin{tikzcd}
% 	0 & {K} & {E} & {E} & {K}
% 	\arrow[from=1-1, to=1-2]
% 	\arrow[hook, from=1-2, to=1-3]
% 	\arrow["\lambda", from=1-3, to=1-4]
% 	\arrow["{\trace{E/K}}", from=1-4, to=1-5]
%     \end{tikzcd}\]
%     is exact, where $\lambda(z)=\sigma(z)-z$. 
% \end{enumerate}
% \end{corollary}

% \begin{proof}
%     We only prove 1). Note that 
%     $K^{\times}\hookrightarrow E^{\times}$ is the inclusion map. If 
%     $z\in\ker\rho$, then $\sigma(z)=z$ and hence $z\in K$. The 
%     sequence 
%     \[\begin{tikzcd}
% 	{E^{\times}} & {E^{\times}} & {K^{\times}}
% 	\arrow["\rho", from=1-1, to=1-2]
% 	\arrow["{\norm_{E/K}}", from=1-2, to=1-3]
%     \end{tikzcd}\]
%     is exact by Hilbert's theorem 90. 
% \end{proof}

% % 107/136

\begin{proposition}
    Let $n\geq2$ and $K$ be a field containing a primitive $n$-root of one. If 
    $a\in K^{\times}$ and 
    $E/K$ is a decomposition field of $f=X^n-a$, then $E/K$ is cyclic
    of degree $d$, where $d$ divides $n$. Moreover, 
    \[
    d=\min\{k:a^k\in K^n\},
    \]
    where $K^n=\{x\in K:x=y^n\text{ for some $y\in K$}\}$. 
    Conversely, 
    if $E/K$ is cyclic of degree $n$, then $E/K$ is a decomposition
    field of an irreducible polynomial 
    of the form $X^n-a$ for some $a\in K^{\times}$. 
\end{proposition}

\begin{proof}
    A decomposition field of $f$ over $K$ is
    of the form $K(\alpha)$, where $\alpha^n=a$. Thus 
    $K(\alpha)/K$ is a Galois extension. If $\sigma\in\Gal(K(\alpha)/K)$, 
    then $\sigma(\alpha)$ is a root of $f$, so 
    $\sigma(\alpha)=\omega_\sigma\alpha$, where
    $\omega_\sigma\in G_n(K)$. This means that 
    there exists an injective map
    \[
    \lambda\colon\Gal(K(\alpha)/K)\to G_n(K),
    \quad
    \sigma\mapsto\omega_{\sigma}.
    \]
    Moreover, $\lambda$ is a group homomorphism, as 
    \[
    \sigma\tau(\alpha)=\sigma(\tau(\alpha))=\sigma(\omega_{\tau}\alpha)=\omega_\tau\sigma(\alpha)=\omega_{\tau}\omega_{\sigma}\alpha.
    \]
    Therefore $\Gal(K(\alpha)/K)$ is isomorphic to a subgroup
    of $G_n(K)$. In particular, $\Gal(K(\alpha)/K)$ is cyclic
    and $|\Gal(K(\alpha)/K)|$ divides $n$.
    
    
    Let $d=|\Gal(K(\alpha)/K)|$. Since $a=\alpha^n$, 
    \[
    \norm_{K(\alpha)/K}(\alpha)^n=\norm_{K(\alpha)/K}(a)=a^d.
    \]
    Thus $a^d\in K^n$, as $\norm_{K(\alpha)/K}(\alpha)\in K$. If $a^k\in K^n$, 
    say $a^k=c^n$ for some $c\in K$, then 
    \[
    c^n=a^k=(\alpha^n)^k=(\alpha^k)^n
    \implies 
    \alpha^k=c\omega\in K
    \]
    for some $\omega\in G_n(K)$. Thus $\alpha$ is a root of $X^k-\alpha^k\in K[X]$
    and hence $k\geq d$. 
    
    Note that $f(\alpha,K)=X^d-\alpha^d$. 
    
    Let $E/K$ be cyclic of degree $n$. Assume that  
    $\Gal(E/K)=\langle\sigma\rangle$.
    If $\omega$ is a primitive
    $n$-root of one, 
    \[
    \norm_{E/K}(\omega)=\omega^n=1.
    \]
    By Hilbert's theorem 90, 
    there exists $b\in E^{\times}$ such that 
    $\omega=\sigma(b)/b$. Thus
    $\sigma(b)=\omega b$ and hence 
    $\sigma^i(b)=\omega^i b$ for all $i\geq0$. Since 
    $|\{b,\sigma(b),\dots,\sigma^{n-1}(b)\}|=n$, 
    it follows that $E=K(b)$. Moreover, 
    \[
    \sigma(b^n)=\sigma(b)^n=(\omega b)^n=b^n
    \]
    and hence $b^n\in K$. This means that $E/K$ is a decomposition
    field of $X^n-b^n$. Note that $X^n-b^n$ is irreducible, as 
    $[E:K]=[K(b):K]=n$. 
\end{proof}

\begin{proposition}
    Let $K$ be a field of characteristic $p>0$. 
    \begin{enumerate}
        \item Let $a\in K$ and $f=X^p-X-a$. Then 
        $f$ is irreducible over $K$ or all the roots of 
        $f$ belong to $K$. 
        In the first case, if $b$ is a root of $f$, then 
        $K(b)/K$ is a cyclic extension of degree $p$. 
        \item Every cyclic extension of degree $p$ 
        is a decomposition field of an irreducible
        polynomial of the form $X^p-X-a$. 
    \end{enumerate}
\end{proposition}

\begin{proof}
    We first prove 1). 
    Let $K_0$ be the prime field of $K$. Note that $K_0\simeq\Z/p$. 
    Let $b$ be a root of $f$ and let $x\in K_0$. 
    Then
    \[
    f(b+x)=(b+x)^p-(b+x)-a
    =(b^p-b-a)+(x^p-x)=0
    \]
    and thus $\{b+x:x\in K_0\}$ is the set of roots of $f$. Note that 
    $f'=-1$, so $f$ has no multiple roots. 
    
    We claim that if $b\not\in K$, then $f$ is irreducible. If 
    $f$ is not irreducible, then 
    $f=gh$ for some $g,h\in K[X]$ such that $0<\deg g<p$. There exists
    a subset $S$ of $K_0$ such that 
    $g=\prod_{x\in S}(X-(b+x))$ and hence
    \[
    |S|b+\sum_{x\in S}x=\sum_{x\in S}(b+x)\in K.
    \]
    This implies that $|S|b\in K$ and hence, since 
    $|S|\in K^{\times}$, it follows that 
    $b\in K$.
    
    Since $K(b)/K$ is a decomposition field of a separable polynomial, 
    $K(b)/K$ is a Galois extension. Moreover, 
    $|\Gal(K(b)/K)|=[K(b):K]=p$ and hence 
    $\Gal(K(b)/K)$ is cyclic. 
    
    We now prove 2). Let $E/K$ be cyclic of degree $p$. Assume
    that $\Gal(E/K)=\langle\sigma\rangle$. Since
    $\trace_{E/K}(1)=p=0$, Hilbert's theorem 
    implies that there exists $b\in E$ such that 
    $\sigma(b)=b+1$. In particular, $b\not\in K$
    and thus $E=K(b)$. Moreover, since 
    \[
    \sigma(b^p-b)=\sigma(b)^p-\sigma(b)=(b+1)^p-(b+1)=b^p-b, 
    \]
    it follows that $b^p-b\in K$. Thus 
    $f(b,K)=X^p-X-(b^p-b)\in K[X]$. 
\end{proof}

\subsection{Symmetric polynomials}

Let $K$ be a field and $\{t_1,\dots,t_n\}$ be a commuting set of  independent variables.  
Let $E=K(t_1,\dots,t_n)$ and $f=\prod_{i=1}^n(X-t_i)\in E[X]$. 
Then
\[
f=X^n+\sum_{i=1}^n (-1)^i s_i X^{n-i},
\]
where 
\begin{align*}
    s_1 &= t_1+t_2+\cdots+t_n,\\
    s_2 &= \sum_{1\leq i<j\leq n}t_it_j,\\
    &\vdots\\
    s_n &= t_1t_2\cdots t_n.
\end{align*}
For example, 
\[
(X-t_1)(X-t_2)(X-t_3)=X^3-(t_1+t_2+t_3)X^2+(t_1t_2+t_2t_3+t_1t_3)X-t_1t_2t_3.
\]

The polynomials $s_1,s_2,\dots,s_n$ are known as the 
\textbf{elementary symmetric polynomials} in the variables $t_1,\dots,t_n$. Note
that $\deg s_i=i$. 

Let $\sigma\in\Sym_n$ and 
\[
\alpha_{\sigma}\colon K[t_1,\dots,t_n]\to K[t_1,\dots,t_n],
\quad
t_i\mapsto t_{\sigma(i)}\quad\text{for all $i$}.
\]
Then $\alpha_{\sigma}$ is a bijective homomorphism of $K$-algebras. In fact, 
$\alpha_{\sigma}^{-1}=\alpha_{\sigma^{-1}}$. Note that
\[
\alpha_{\sigma}(h(t_1,\dots,t_n))=h(t_{\sigma(1)},\dots,t_{\sigma(n)}).
\]
Since $\alpha_{\sigma}$ is injective, 
it induces an element $\widehat{\sigma}\in\Gal(E/K)$ given by
\[
    \widehat{\sigma}\left(\frac{h}{g}\right)
    =\frac{\alpha_{\sigma}(h)}{\alpha_{\sigma}(h)}.
\]
The map $\Sym_n\to\Gal(E/K)$, $\sigma\mapsto\widehat{\sigma}$, 
is an injective group homomorphism. Thus
$\{\widehat{\sigma}:\sigma\in\Sym_n\}\simeq\Sym_n$. 

\begin{definition}
    Let $g\in K[t_1,\dots,t_n]$. Then $g$ is \textbf{symmetric} 
    if $\widehat{\sigma}(g)=g$ for all $\sigma\in\Sym_n$. 
\end{definition}
    
We write $P$ to denote the set of symmetric polynomials in $K[t_1,\dots,t_n]$. 
Clearly,
$P$ is a subalgebra of $K[t_1,\dots,t_n]$. The following statements hold:
\begin{enumerate}
    \item $K\subseteq P$.
    \item $\sum_{i=1}^n t_i^r\in P$ for all $r\geq1$.
    \item $s_i\in P$ for all $i$.
    \item $K(P)\subseteq\prescript{G}{}{E}$, where $G=\{\widehat{\sigma}:\sigma\in\Sym_n\}$.  
\end{enumerate}

Let $F=K(s_1,s_2,\dots,s_n)$. Then $E/F$ is a Galois extension, as 
it is a decomposition field of $f$. 

\begin{proposition}
    $[E:F]\leq n!$.
\end{proposition}

\begin{proof}
    We proceed by induction on $n$. The case $n=1$ is clear, as $E=F$. Assume
    that $n>1$. Let $u_1,\dots,u_{n-1}$ be the elementary symmetric
    polynomials in $t_1,\dots,t_{n-1}$. Then
    \[
    s_i=u_i+t_nu_{i-1}
    \]
    for all $i\in\{1,\dots,n\}$, where $u_0=1$ and $u_n=0$. Note that
    $u_1=s_1-t_n$ and $u_i=s_i-t_nu_{i-1}$ for all $i$. Since
    $K(s_1,\dots,s_n,t_n)=K(u_1,\dots,u_{n-1},t_n)$, 
    \begin{align*}
    &F(t_n)=K(u_1,\dots,u_{n-1},t_n)=K(t_n)(u_1,\dots,u_{n-1})
    \shortintertext{and}
    &[E:F]=[E:F(t_n)][F(t_n):F]\leq n[E:F(t_n)].
    \end{align*}
    
    Note that $E=K(t_1,\dots,t_n)=K(t_n)(t_1,\dots,t_{n-1})$. By the
    inductive hypothesis, 
    \[
    [E:F(t_n)]\leq (n-1)!
    \]
    and hence 
    $[E:F]\leq n!$. 
\end{proof}

\begin{theorem}
    $\prescript{G}{}{E}=F$.
\end{theorem}

\begin{proof}
    By Artin's theorem,
    \[
    \left[\prescript{G}{}{E}:F\right]=\frac{[E:F]}{\left[E:\prescript{G}{}{E}\right]}
    \leq\frac{n!}{\left[E:\prescript{G}{}{E}\right]}=1
    \]
    and hence $\prescript{G}{}{E}=F$.
\end{proof}

\begin{exercise}
    Prove that $\Gal(E/F)\simeq\Sym_n$.
\end{exercise}

\begin{exercise}
    Prove that $\{s_1,\dots,s_n\}$ is algebraically independent over $K$. 
\end{exercise}

\begin{exercise}
    Prove that every symmetric polynomial in $t_1,\dots,t_n$ can be written as a rational
    fraction in $s_1,\dots,s_n$. 
\end{exercise}

\subsection{Solvable groups}

\index{Commutator subgroup}
Let $G$ be a group. If $x,y\in G$ we define
the \textbf{commutator} of $x$ and $y$ as
\[
[x,y]=xyx^{-1}y^{-1}.
\]
Note that $[x,y]=1$ if and only if $xy=yx$. 
Moreover, $[x,y]^{-1}=[y,x]$. 
The
\textbf{commutator (or derived) subgroup} $[G,G]$ of $G$ is defined as
the subgroup of $G$ generated by all commutators, i.e. 
\[
[G,G]=\langle [x,y]:x,y\in G\rangle.
\]
This means that every element of $[G,G]$ is a finite product of commutators, 
so every element of $[G,G]$ is of the form $\prod_{i=1}^m [x_i,y_i]$. 
In general, the commutator subgroup is not equal to the set of commutators!

\begin{example}
This example is taken from the book \cite{MR0075938} of Carmichael. 
Let $G$ be the subgroup of $\Sym_{16}$ generated by the permutations
\begin{align*}
&a = (1 3)(2 4),&&
b = (5 7)(6 8),\\
&c = (9 11)(10\,12),&&
d = (13\,15)(14\,16),\\
&e = (1 3)(5 7)(9\,11),&&
f = (1 2)(3 4)(13\,15),\\
&g = (5 6)(7 8)(13\,14)(15\,16),&&
h =(9\,10)(11\,12).
\end{align*}
Then $[G,G]$ has order $16$. However, 
the set $\{[x,y]:x,y\in G\}$ of commutators has 15 elements:
\begin{lstlisting}
julia> a = @perm (1,3)(2,4);

julia> b = @perm (5,7)(6,8);

julia> c = @perm (9,11)(10,12);

julia> d = @perm (13,15)(14,16);

julia> e = @perm (1,3)(5,7)(9,11);

julia> f = @perm (1,2)(3,4)(13,15);

julia> g = @perm (5,6)(7,8)(13,14)(15,16);

julia> h = @perm (9,10)(11,12);
   
julia> S16 = symmetric_group(16);

julia> G = sub(S16, [a,b,c,d,e,f,g,h])[1];

julia> commutators = G -> Set(comm(x,y) for x in G, y in G);

julia> length(commutators(G))
15

julia> order(derived_subgroup(G)[1])
16
\end{lstlisting}
\end{example}

%julia> c*d in derived_subgroup(G)[1]
%true
%julia> c*d in commutators(G)
%false

\begin{exercise}
    Let $G$ be a group. 
    Prove the following facts:
    \begin{enumerate}
        \item $G$ is abelian if and only if $[G,G]=\{1\}$.
        \item $[G,G]$ is a normal subgroup of $G$. 
        \item $G/[G,G]$ is abelian. 
        \item If $H$ is a subgroup of $G$ and $[G,G]\subseteq H$, then 
        $H$ is normal in $G$.
        \item If $H$ is a normal subgroup of $G$, then 
        $G/H$ is abelian if and only if $[G,G]\subseteq H$. 
    \end{enumerate}
\end{exercise}

\begin{definition}
\index{Derived series}
    Let $G$ be a group. The \textbf{derived series} of $G$ 
    is defined as $G^{(0)}=G$ and
    $G^{(k+1)}=[G^{(k)},G^{(k)}]$ for $k\geq 0$. 
\end{definition}

\begin{exercise}
    Prove that $G^{(k)}$ is normal in $G$ for all $k$. 
\end{exercise}

Why derived series? We cannot explain this here, but let us use the following
notation. 
We write $G'=[G,G]$, $G''=[G',G']$... 
Note that 
\[
G\supseteq G'\supseteq G''\supseteq\cdots
\]

%\begin{exercise}
%    $[\Sym_3,\Sym_3]=\Alt_3$. 
%\end{exercise}

\begin{exercise}
    Let $n\geq3$. Prove that 
    $[\Sym_n,\Sym_n]=\Alt_n$. 
\end{exercise}

\begin{example}
    Let $K=\{\id,(12)(34),(13)(24),(14)(23)\}$. Then 
    $K$ is a normal subgroup of $\Alt_4$. 
    One proves that $[\Alt_4,\Alt_4]=K$. 
\end{example}

\index{Group!simple}
A group $G$ is said to be \textbf{simple} 
if there are no proper non-trivial subgroups of $G$. If $p$
is a prime number, then the group 
$\Z/p$ of integers modulo $p$ 
is a simple group. We will prove
later that $\Alt_n$ is simple if 
$n\geq5$. 

\begin{example}
    Let $n\geq5$. Since $\Alt_n$ is a non-abelian simple group, 
    $[\Alt_n,\Alt_n]=\Alt_n$. 
\end{example}

Let us show that $\Alt_5$ is a non-abelian simple group. Hence
it is not solvable: 
\begin{lstlisting}
julia> A5 = alternating_group(5)
Alt( [ 1 .. 5 ] )

julia> is_abelian(A5)
false

julia> is_simple(A5)
true

julia> is_solvable(A5)
false
\end{lstlisting}

\begin{definition}
\index{Group!solvable}
    A group $G$ is \textbf{solvable} if and only if
    $G^{(m)}=\{1\}$ for some $m$. 
\end{definition}

Every abelian group is solvable. 

\begin{exercise}
    Prove that $\Sym_n$ is solvable if and only if $n\leq4$. 
\end{exercise}

Let us compute (with the computer software Oscar) 
the derived series of the symmetric group
$\Sym_4$. The calculation shows that $\Sym_4$ is solvable: 
\begin{lstlisting}
julia> G = symmetric_group(4);

julia> derived_series(G)
4-element Vector{PermGroup}:
 Sym( [ 1 .. 4 ] )
 Alt( [ 1 .. 4 ] )
 Group([ (1,4)(2,3), (1,2)(3,4) ])
 Group(())
 
julia> [order(x) for x in derived_series(G)]
4-element Vector{fmpz}:
 24
 12
 4
 1
 
julia> is_solvable(G)
true
\end{lstlisting}

\begin{proposition}
\label{pro:solvable}
    Let $G$ be a group and $H$ be a subgroup of $G$. 
    The following statements hold:
    \begin{enumerate}
        \item If $G$ is solvable, then $H$ is solvable.
        \item If $H$ is normal in $G$ and $G$ is solvable, then $G/H$ is solvable. 
        \item If $H$ is normal in $G$ and $H$ and $G/H$ are solvable, then $G$ is solvable. 
    \end{enumerate}
\end{proposition}

\begin{proof}
    The first statement follows from the fact that
    $H^{(i)}\subseteq G^{(i)}$ holds for all $i$. 
 
    Assume now that $H$ is normal in $G$. 
    Let $Q=G/H$ and $\pi\colon G\to Q$ be the canonical map.
    By induction one proves that $\pi(G^{(i)})=Q^{(i)}$ for all $i\geq0$.
    The case where $i=0$ is trivial, as $\pi$ is surjective. 
    If the result holds for some $i\geq0$, then
    \[
            \pi(G^{(i+1)})=\pi([G^{(i)},G^{(i)}])=[\pi(G^{(i)}),\pi(G^{(i)})]=[Q^{(i)},Q^{(i)}]=Q^{(i+1)}.
    \]

    We now prove 2). Since $G$ is solvable, $G^{(n)}=\{1\}$ for some $n$. 
    Thus $Q$ is solvable, as $Q^{n}=\pi(G^{(n)})=\pi(\{1\})=\{1\}$. 

    We finally prove 3). 
    Since $Q$ is solvable, $Q^{(n)}=\{1\}$ for some $n$.
    Moreover, since $\pi(G^{(n)})=Q^{(n)}=\{1\}$, it follows that
    $G^{(n)}\subseteq H$. Since $H$
    is solvable, 
    \[
        G^{(n+m)}\subseteq (G^{(n)})^{(m)}\subseteq H^{(m)}=\{1\}
    \]
    for some $m$. Thus $G$ is solvable.
\end{proof}

An application:

\begin{proposition}
    Let $G$ be a finite $p$-group. Then $G$ is solvable. 
\end{proposition}

\begin{proof}
    Assume the result is not true. Let $G$ be a finite
    $p$-group of minimal order that is not solvable. Since 
    $G$ is a $p$-group, $Z(G)\ne\{1\}$. Since $|G|$ is minimal, 
    $G/Z(G)$ is a solvable $p$-group. Since $Z(G)$ is abelian, 
    $Z(G)$ is solvable. Now $G$ is solvable 
    by Proposition \ref{pro:solvable}.
\end{proof}

\index{Subgroup!maximal normal}
Let $G$ be a group. A subgroup $N$ of $G$ is said to be \textbf{maximal normal} 
if $N$ is a normal subgroup of $G$ and there is no other normal subgroup of $G$ 
containing $N$. 

\begin{exercise}
    If a subgroup $N$ of $G$ is maximal (for the inclusion) and
    normal, then it is maximal normal. Show that the converse does not hold.
\end{exercise}

% $G=\Alt_5$. Since $G$ is simple, the trivial subgroup is the only maximal normal subgroup. However, 
% the trivial subgroup is not a maximal subgroup. 

The following result is a direct consequence of the correspondence theorem:

\begin{exercise}
\label{xca:G/N_simple}
    Let $G$ be a group and $N$ be a normal subgroup of $G$. Prove that 
    $N$ is maximal normal if and only if $G/N$ is simple. 
\end{exercise}

Maximal normal subgroups always exist in finite groups (they could be trivial). 
We can compute maximal normal subgroups as follows:
\begin{lstlisting}
julia> maximal_normal_subgroups(symmetric_group(3))
1-element Vector{PermGroup}:
 Group([ (1,2,3) ])

julia> maximal_normal_subgroups(quaternion_group(8))
3-element Vector{PcGroup}:
 Group([ y2, x ])
 Group([ y2, y ])
 Group([ y2, x*y ])

julia> maximal_normal_subgroups(alternating_group(4))
1-element Vector{PermGroup}:
 Group([ (1,4)(2,3), (1,2)(3,4) ])    
\end{lstlisting}

% It follows from the correspondence theorem. 

\begin{exercise}
\label{xca:solvable+simple}
    Let $G$ be a 
    finite solvable group. Prove that if $G$ is simple, then 
    $G$ is cyclic of prime order. 
\end{exercise}

The following result will be important later:

\begin{proposition}
    Every finite solvable group contains a normal subgroup of prime index. 
\end{proposition}

\begin{proof}
    Let $G$ be a finite solvable group. 
    Let $M$ be a maximal normal subgroup of $G$ (there is at least one, as $G$ is finite). 
    Since $G/M$ is simple and solvable (see Proposition \ref{pro:solvable}), 
    $G/M$ is cylic of prime order by Exercise \ref{xca:solvable+simple}.  
\end{proof}

We finish this discussion with two important theorems (without proof) 
about finite solvable groups. 

\begin{theorem}[Burnside]
\index{Burnside's theorem}
    Let $p$ and $q$ be prime numbers. If $G$ is a group
    of order $p^aq^b$, then $G$ is solvable. 
\end{theorem}

The proof appears in courses on the 
representation theory of finite groups. 

\begin{theorem}[Feit--Thompson]
\index{Feit--Thompson theorem}
    Every finite group of odd order is solvable.
\end{theorem}

The proof of the theorem is extremely hard. It occupies a full volume of
\emph{Pacific Journal of Mathematics}, see~\cite{MR166261}.

\subsection{Simplicity of the alternating simple group}

We will present a family of non-abelian simple groups. 
We start with some exercises. 

\begin{exercise}
\label{xca:diagonal}
    Let $G$ be a group. 
    Prove that $G$ is simple if and only if 
    $\{(g,g):g\in G\}$ 
    is a maximal subgroup of $G\times G$. 
\end{exercise}

\begin{exercise}
    Prove that $\Alt_n$ is generated by 3-cycles. 
\end{exercise}

\begin{exercise}
    Compute the commutator subgroup of $\Alt_n$ for
    $n\geq2$. 
\end{exercise}

Note that $\Alt_2$ and $\Alt_3$ are abelian. 
For $\Alt_4$, one proves that 
\[
[\Alt_4,\Alt_4]=\{\id,(12)(34),(13)(24),(14)(23)\}.
\]
Finally, $[\Alt_n,\Alt_n]=\Alt_n$ for $n\geq5$. 

Let us compute some commutator subgroups (and the inclusion group homomorphism)  
with the computer:
\begin{lstlisting}
julia> derived_subgroup(symmetric_group(3))
(Alt( [ 1 .. 3 ] ), Group homomorphism from 
Alt( [ 1 .. 3 ] )
to
Sym( [ 1 .. 3 ] ))    
\end{lstlisting}

\begin{exercise}
    Let $n\geq3$. 
    Prove that $[\Sym_n,\Sym_n]=\Alt_n$. 
\end{exercise}

Recall that every normal subgroup is a union of conjugacy classes. The group 
$\Alt_5$ has conjugacy classes of sizes 1, 15, 20, 12 and 12. It follows that 
the only possible normal subgroups of $\Alt_5$ are $\{\id\}$ and $\Alt_5$. 
\begin{lstlisting}
julia> A5 = alternating_group(5);

julia> [length(c) for c in conjugacy_classes(A5)]
5-element Vector{ZZRingElem}:
 1
 15
 20
 12
 12 
\end{lstlisting}

\begin{theorem}[Jordan]
\index{Jordan's theorem}
\label{thm:Jordan}
    Let $n\geq5$. Then $\Alt_n$ is simple. 
\end{theorem}

Before proving the theorem, we need some preliminary results.

Every permutation $\rho\in\Sym_n$ decomposes as a product of disjoint cycles, say
\[
\rho=(a_1\cdots a_r)(b_1\cdots b_s)\cdots (c_1\cdots c_t)
\]
where, by convention, we do not write cycles of length one. 
The cyclic structure of $\rho$ is, by definition, the ordered 
sequence of integers $r,s,\dots t$, where, again by convention,  
we omit fixed points. For example, the cyclic structure of 
the transposition $(ab)$ is 2, 
of $(abc)(d)$ is 3 and of $(123)(45)(789a)(bcd)(d)$ is 2,3,3,4. 

\begin{lemma}
If $\rho_1$ and $\rho_2$ are permutations in $\Sym_n$ with the same
cyclic structure, then 
$\rho_2=\sigma\rho_1\sigma^{-1}$ for some
$\sigma\in\Sym_n$. 
\end{lemma}

\begin{proof}
Assume that 
\begin{align*}
\rho_1&=(a_1\cdots a_r)(b_1\cdots b_s)\cdots (c_1\cdots c_t),\\
\rho_2&=(x_1\cdots x_r)(y_1\cdots y_s)\cdots (z_1\cdots z_t).
\end{align*}
Let  
\begin{align*}
\Fix(\rho_1) &= \{x\in\{1,\dots,n\}:\rho_1(x)=x\}=\{k_1,\dots,k_m\},&&
\Fix(\rho_2)=\{l_1,\dots,l_m\}	
\end{align*}
be the fixed points of the permutations $\rho_1$ and $\rho_2$,
respectively. Then 
\[
\sigma(x)=\begin{cases}
x_j & \text{if $x=a_j$ for some $j$},\\
y_j & \text{if $x=b_j$ for some $j$},\\
\;\vdots\\
z_j & \text{if $x=c_j$ for some $j$},\\
l_j & \text{if $x=k_j$ for some $j$},	
\end{cases}
\]
is such that $\sigma\rho_1\sigma^{-1}=\rho_2$. 
\end{proof}

What happens with the alternating group? 

\begin{lemma}
If $\rho_1,\rho_2\in\Sym_n$ are conjugate in $\Sym_n$ and  $|\Fix(\rho_1)|\geq2$, then 
$\mu\rho_1\mu^{-1}=\rho_2$ for some $\mu\in\Alt_n$.  
\end{lemma}

\begin{proof}
Assume that $\rho_2=\sigma\rho_1\sigma^{-1}$ for some $\sigma\in\Sym_n$. 
There are $a,b\in\{1,\dots,n\}$ such that
$\rho_1(a)=a$, $\rho_1(b)=b$ and $a\ne b$. Let 
\[
\mu=\begin{cases}
\sigma & \text{if $\sigma\in\Alt_n$,}\\
\sigma(ab) & \text{otherwise.}
\end{cases}
\]
Then $\mu\in\Alt_n$ and $\mu\rho_1\mu^{-1}=\rho_2$, as 
$(ab)$ commutes with $\rho_1$. 
\end{proof}

Let us discuss some examples.

\begin{example}
If $\rho_1=(23)(156)$ and $\rho_2=(45)(123)$, then 
$\rho_2=\sigma\rho_1\sigma^{-1}$ for  
\[
\sigma=\binom{123456}{145623}.
\]
\end{example}

\begin{example}
The permutations $\rho_1=(123)$ and $\rho_2=(132)$ are conjugate 
in $\Sym_3$, as  
$(123)=\sigma(132)\sigma^{-1}$ if $\sigma=(23)$. However, $\rho_1$ and $\rho_2$ are not conjugate in $\Alt_3$. 
\end{example}

Now we are ready to prove the theorem. 

\begin{proof}[Proof of Theorem~\ref{thm:Jordan}]
Let $N\ne\{\id\}$ be a normal subgroup of $\Alt_n$. If $(abc)\in N$, then every 3-cycle belongs to $N$, because all 3-cycles 
are conjugate in $\Sym_n$, and the previous lemma 
states that 
$(ijk)=\mu(abc)\mu^{-1}\in N$ for some
$\mu\in\Alt_n$. Thus $N=\Alt_n$. 

We claim that $N$ contains a 3-cycle. 
Since $N\ne\{id\}$, there exists $\sigma\in N\setminus\{\id\}$. Let $m=|\sigma|$ and let $p$ be a prime number dividing $m$. 
Then $\tau=\sigma^{m/p}$ has order $p$ and hence
$\tau=\rho_1\cdots\rho_s$, where the $\rho_j$'s are disjoint 
$p$-cycles. 

If $p=2$, then $1=\sgn(\tau)=(-1)^s$. Thus $s$ is even. Write
\[
\tau=(ab)(cd)\rho_3\cdots\rho_s. 
\]
Since $\rho_3\cdots\rho_s$ commutes with $(abc)$ and $(acb)$, 
\[
\underbrace{(abc)\tau(abc)^{-1}\tau^{-1}}_{\in N}
=(abc)(ab)(cd)(acb)(ab)(cd)=(ac)(bd).
%(ac)(bd)\tau=(abc)\tau(abc)^{-1}\in N. 
\]
Hence $(ac)(bd)\in N$. Let 
$e\in\{1,\dots,n\}\setminus\{a,b,c,d\}$. Then 
\[
(ae)(bd)=(aec)\underbrace{(ac)(bd)}_{\in N}(aec)^{-1}\in N
\]
and therefore  
\[
(aec)=(ac)(ae)=(ac)(bd)(ae)(bd)\in N.
\]

If $p=3$, without loss of generality, we may assume that $s\geq2$ (otherwise, $\tau$ would be a 3-cycle). Then
$\tau=(abc)(def)\rho_3\cdots\rho_s$. Since $(bcd)$ commutes with
$\rho_3\cdots\rho_s$ and $N$ is normal in $\Alt_n$, 
\begin{align*}
\underbrace{(bcd)\tau(bcd)^{-1}\tau^{-1}}_{\in N}=(bcd)(abc)(def)(bdc)(acb)(dfe)=(adbce)
%&(adbce)=(bcd)\tau(bcd)^{-1}\tau^{-1}\in N
%\shortintertext{and therefore}
\end{align*}
and therefore 
\begin{align*}
&(adc)=(adb)(adbce)(adb)^{-1}(adbce)^{-1}\in N.
\end{align*}

If $p>3$, then $\tau=(abcd\cdots z)\rho_2\cdots\rho_s$. In particular, $(abc)$ commutes with $\rho_2\cdots\rho_s$. Then 
\[
(abd)=(abc)\tau(abc)^{-1}\tau^{-1}\in N.\qedhere
\]
\end{proof}

As an application, we compute the normal subgroups 
of the symmetric group $\Sym_n$. 

\begin{exercise}
    Compute the list of normal subgroups of $\Sym_n$ for $n\geq2$. 
\end{exercise}

%The first cases
%are easy: $\Sym_2$ is simple, 
%the normal subgroups of $\Sym_3$ 
%are $\{\id\}$, $\Alt_3$ and $\Sym_3$, and
%the normal subgroups of $\Sym_4$ are
%\[
%\{\id\},\{\id,(12)(34),(13)(24),(14)(23)\},
%\Alt_4, \Sym_4.
%\]
%
%\begin{exercise}
%Let $n\geq5$ and $N$ be a normal subgroup of $\Sym_n$. Then either 
%$N=\{\id\}$, $N=\Alt_n$ or $N=\Sym_n$.     
%\end{exercise}
%
%\begin{proposition}
%\index{Subgrupos normales!de $\Sym_n$}
%Sea $n\geq5$ y sea $N$ un subgrupo normal de $\Sym_n$. Entonces $N=\{\id\}$, $N=\Alt_n$ o bien $N=\Sym_n$. 
%\end{proposition}
%
%\begin{proof}
%Sea $N$ un subgrupo normal de $\Sym_n$. Como la restricción $\sgn|_N$ de la función signo a $N$ es un morfismo de grupos, 
%\[
%(N:\ker(\sgn|_N))=|\sgn(N)|\in\{1,2\}.
%\] 
%Si $(N:\ker(\sgn|_N)=1$, entonces $N\subseteq\Alt_n$ y entonces $N$ es normal en $\Alt_n$. 
%Luego $N=\{\id\}$ o bien $N=\Alt_n$ pues $\Alt_n$ es un grupo simple si $n\geq5$. 
%
%Si $(N:\ker(\sgn|_N)=2$, entonces $N\cap\Alt_n=\ker(\sgn|_N)$ es normal en $\Alt_n$ y luego, por la simplicidad de $\Alt_n$ para $n\geq5$, $N\cap\Alt_n=\{\id\}$ o bien $N\cap\Alt_n=\Alt_n$. 
%
%En el primer caso, $|N|=2$ y entonces $N$ contiene una permutación impar que además tiene orden dos, digamos
%$\tau=(ij)\tau_2\cdots\tau_s$, escrita como producto de trasposiciones disjuntas. Entonces
%$\pi=(ik)\tau(ik)\in N$ si $k\not\in\{i,j\}$ y $\pi\ne \tau$ pues $\tau(j)=i$ y $\pi(j)=k$. Luego $|N|\geq3$, una contradicción. 
%
%En el segundo caso, si $N\cap\Alt_n=\Alt_n$, entonces $N=\Alt_n$.
%\
%
%\begin{proof}
%    
%\end{proof}

